{"scopeName":"source.mermaid.requirement-diagram","patterns":[{"include":"#main"}],"repository":{"element":{"name":"meta.element.definition.mermaid","begin":"(?i)^\\s*(element)(?:\\s+(?:(\\w[^-{\u003c\u003e=]*?)|((\")([^\"]*)(\"))))?\\s*({)","end":"}","patterns":[{"include":"#field"},{"include":"source.mermaid#a11y"},{"include":"source.mermaid#directive"},{"include":"source.mermaid#comment"}],"beginCaptures":{"1":{"name":"storage.type.element.mermaid"},"2":{"name":"entity.name.element.mermaid"},"3":{"name":"string.quoted.double.requirement.name.mermaid"},"4":{"name":"punctuation.definition.string.begin.mermaid"},"5":{"patterns":[{"include":"source.mermaid#entity"}]},"6":{"name":"punctuation.definition.string.end.mermaid"},"7":{"patterns":[{"include":"source.mermaid#brace"}]}},"endCaptures":{"0":{"patterns":[{"include":"source.mermaid#brace"}]}}},"field":{"name":"meta.field.${1:/downcase}.mermaid","begin":"(?i)^\\s*(\\w+)\\s*(:)[ \\t]*","end":"(?=\\s*$)","patterns":[{"include":"#field-innards"}],"beginCaptures":{"1":{"name":"variable.assignment.field.mermaid"},"2":{"patterns":[{"include":"source.mermaid#colon"}]}}},"field-innards":{"patterns":[{"contentName":"string.quoted.double.mermaid","begin":"\\G\\s*\"","end":"(\")(?:\\s*(?!%%)(\\S[^\\r\\n]*))?","patterns":[{"include":"source.mermaid#entity"}],"beginCaptures":{"1":{"name":"punctuation.definition.string.begin.mermaid"}},"endCaptures":{"1":{"name":"punctuation.definition.string.end.mermaid"},"2":{"name":"invalid.illegal.unexpected-junk.mermaid"}}},{"name":"string.unquoted.mermaid","match":"\\G[^\"\\s][^\"\\r\\n]*"}]},"invalid-value":{"name":"invalid.illegal.bad-value.mermaid","match":"\\G\\S[^\\r\\n]*"},"main":{"patterns":[{"include":"source.mermaid#a11y"},{"include":"source.mermaid#directive"},{"include":"source.mermaid#comment"},{"include":"#requirement"},{"include":"#element"},{"include":"#relationship"}]},"relationship":{"patterns":[{"name":"meta.relationship.source-to-destination.mermaid","match":"(?x)\n(\\w[^-{\u003c\u003e=\\r\\n]* | \"[^\"]*\")  \\s* # Source\n(- \\s* \\w+ \\s* -\u003e)           \\s* # Operator\n(\\w[^-{\u003c\u003e=\\r\\n]* | \"[^\"]*\")       # Destination","captures":{"1":{"patterns":[{"include":"#relationship-source"}]},"2":{"patterns":[{"include":"#relationship-type"}]},"3":{"patterns":[{"include":"#relationship-destination"}]}}},{"name":"meta.relationship.destination-to-source.mermaid","match":"(?x)\n(\\w[^-{\u003c\u003e=\\r\\n]* | \"[^\"]*\")  \\s* # Destination\n(\u003c- \\s* \\w+ \\s* -)           \\s* # Operator\n(\\w[^-{\u003c\u003e=\\r\\n]* | \"[^\"]*\")       # Source","captures":{"1":{"patterns":[{"include":"#relationship-destination"}]},"2":{"patterns":[{"include":"#relationship-type"}]},"3":{"patterns":[{"include":"#relationship-source"}]}}}]},"relationship-destination":{"patterns":[{"name":"string.quoted.double.relationship-operand.destination.mermaid","begin":"(?:^|\\G)\"","end":"\"","patterns":[{"include":"source.mermaid#entity"}],"beginCaptures":{"0":{"name":"punctuation.definition.string.begin.mermaid"}},"endCaptures":{"0":{"name":"punctuation.definition.string.end.mermaid"}}},{"name":"entity.name.relationship-operand.destination.mermaid","match":"(?:^|\\G)\\w.*"}]},"relationship-source":{"patterns":[{"name":"string.quoted.double.relationship-operand.source.mermaid","begin":"(?:^|\\G)\"","end":"\"","patterns":[{"include":"source.mermaid#entity"}],"beginCaptures":{"0":{"name":"punctuation.definition.string.begin.mermaid"}},"endCaptures":{"0":{"name":"punctuation.definition.string.end.mermaid"}}},{"name":"entity.name.relationship-operand.source.mermaid","match":"(?:^|\\G)\\w.*"}]},"relationship-type":{"patterns":[{"name":"keyword.operator.arrow.left.mermaid","match":"-\u003e"},{"name":"keyword.operator.arrow.right.mermaid","match":"\u003c-"},{"name":"keyword.operator.dash.mermaid","match":"-"},{"name":"keyword.operator.relation.${1:/downcase}.mermaid","match":"(?ix)\n(?:^|\\G|(?\u003c=-|\\s))\n( contains\n| copies\n| derives\n| refines\n| satisfies\n| traces\n| verifies\n) (?=$|-|\\s)"},{"name":"invalid.illegal.unsupported-type.mermaid","match":"\\w+"}]},"requirement":{"name":"meta.requirement.definition.mermaid","begin":"(?xi) ^\\s*\n( functionalRequirement\n| interfaceRequirement\n| performanceRequirement\n| physicalRequirement\n| designConstraint\n| requirement\n)\n(?:\n\t\\s+\n\t# Requirement name\n\t(?: (\\w[^-{\u003c\u003e=]*?) # Unquoted\n\t|   ((\")([^\"]*)(\")) # Quoted\n\t)\n)?\n\\s* ({)","end":"}","patterns":[{"include":"#risk"},{"include":"#verify-method"},{"include":"#field"},{"include":"source.mermaid#a11y"},{"include":"source.mermaid#directive"},{"include":"source.mermaid#comment"}],"beginCaptures":{"1":{"name":"storage.type.requirement.mermaid"},"2":{"name":"entity.name.requirement.mermaid"},"3":{"name":"string.quoted.double.requirement.name.mermaid"},"4":{"name":"punctuation.definition.string.begin.mermaid"},"5":{"patterns":[{"include":"source.mermaid#entity"}]},"6":{"name":"punctuation.definition.string.end.mermaid"},"7":{"patterns":[{"include":"source.mermaid#brace"}]}},"endCaptures":{"0":{"patterns":[{"include":"source.mermaid#brace"}]}}},"risk":{"name":"meta.field.risk.mermaid","begin":"(?i)^\\s*(risk)\\s*(:)[ \\t]*","end":"(?=\\s*$)","patterns":[{"name":"constant.language.risk-level.${1:/downcase}.mermaid","match":"(?i)\\G(Low|Medium|High)(?=\\s*$)"},{"include":"#invalid-value"}],"beginCaptures":{"1":{"name":"variable.assignment.field.mermaid"},"2":{"patterns":[{"include":"source.mermaid#colon"}]}}},"verify-method":{"name":"meta.field.verify-method.mermaid","begin":"(?i)^\\s*(verifyMethod)\\s*(:)[ \\t]*","end":"(?=\\s*$)","patterns":[{"name":"constant.language.verify-method.${1:/downcase}.mermaid","match":"(?i)\\G(Analysis|Demonstration|Inspection|Test)(?=\\s*$)"},{"include":"#invalid-value"}],"beginCaptures":{"1":{"name":"variable.assignment.field.mermaid"},"2":{"patterns":[{"include":"source.mermaid#colon"}]}}}}}
