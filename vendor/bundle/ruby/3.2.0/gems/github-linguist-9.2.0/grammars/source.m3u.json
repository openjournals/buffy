{"name":"M3U Playlist","scopeName":"source.m3u","patterns":[{"include":"#main"}],"repository":{"attr":{"name":"meta.attribute.m3u","begin":"([^\\s=\"',]+)\\s*(=)\\s*(?=[^\\s,])","end":"(?!\\G)","patterns":[{"name":"string.quoted.double.m3u","begin":"\\G\"","end":"(\")|([^\"]+)$","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.m3u"}},"endCaptures":{"1":{"name":"punctuation.definition.string.end.m3u"},"2":{"name":"invalid.illegal.syntax.unclosed-string.m3u"}}},{"name":"string.quoted.single.m3u","begin":"\\G'","end":"(')|([^']+)$","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.m3u"}},"endCaptures":{"1":{"name":"punctuation.definition.string.end.m3u"},"2":{"name":"invalid.illegal.syntax.unclosed-string.m3u"}}},{"match":"\\G[^\\s\"',][^\\s,]*","captures":{"0":{"patterns":[{"include":"#unquoted"}]}}}],"beginCaptures":{"1":{"name":"entity.other.attribute-name.m3u"},"2":{"name":"keyword.operator.assignment.separator.key-value.m3u"}}},"attrList":{"patterns":[{"include":"etc#comma"},{"include":"#attr"}]},"comment":{"begin":"(?:\\A﻿?|^)(\\s+)?(?=#)","end":"(?!\\G)","patterns":[{"name":"comment.line.number-sign.directive.file-header.m3u","match":"\\G(#)(EXTM3U8?)(?=$|\\s)(\\s+[^\\r\\n]*)?$","captures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.control.start.file.m3u"},"3":{"patterns":[{"include":"#attrList"}]}}},{"name":"comment.line.number-sign.directive.extinf.m3u","begin":"\\G(#)(EXTINF)(:)","end":"$","patterns":[{"begin":"\\G\\s*([-+]?\\d+(?:\\.\\d+)?)","end":"(?=,|\\s*$)","patterns":[{"include":"#attr"}],"beginCaptures":{"1":{"name":"constant.numeric.track-length.m3u"}}},{"contentName":"markup.list.title.m3u","begin":"\\s*(,)[ \\t]*","end":"(?=\\s*$)","beginCaptures":{"1":{"name":"punctuation.separator.title.m3u"}}}],"beginCaptures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.operator.field.extinf.m3u"},"3":{"patterns":[{"include":"etc#kolon"}]}}},{"name":"comment.line.number-sign.directive.extbyt.m3u","begin":"\\G(#)(EXTBYT)(:)","end":"$","patterns":[{"include":"#hex"},{"include":"etc#num"}],"beginCaptures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.operator.field.extbyt.m3u"},"3":{"patterns":[{"include":"etc#kolon"}]}}},{"name":"comment.line.number-sign.directive.${2:/downcase}.m3u","contentName":"string.unquoted.directive.m3u","begin":"\\G(#)(PLAYLIST|EXT(?:[A-Z]+))(?:(:)|(?=\\s*$))","end":"(?=\\s*$)","beginCaptures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.operator.field.${2:/downcase}.m3u"},"3":{"patterns":[{"include":"etc#kolon"}]}}},{"name":"comment.line.number-sign.directive.${2:/downcase}.hls.m3u","begin":"(?x)\\G(\\#)\n(EXT-X-\n\t(?: CONTENT-STEERING\n\t|   DATERANGE\n\t|   DEFINE\n\t|   I-FRAME-STREAM-INF\n\t|   KEY\n\t|   MAP\n\t|   MEDIA\n\t|   PART-INF\n\t|   PART\n\t|   PRELOAD-HINT\n\t|   RENDITION-REPORT\n\t|   SERVER-CONTROL\n\t|   SESSION-DATA\n\t|   SESSION-KEY\n\t|   SKIP\n\t|   START\n\t|   STREAM-INF\n\t)\n)(:)","end":"$","patterns":[{"include":"#attrList"}],"beginCaptures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.operator.field.${2:/downcase}.m3u"},"3":{"patterns":[{"include":"etc#kolon"}]}}},{"name":"comment.line.number-sign.directive.byterange.hls.m3u","begin":"\\G(#)(EXT-X-BYTERANGE)(:)[ \\t]*","end":"$","patterns":[{"name":"meta.byte-range.m3u","match":"\\G(\\d+)(?:(@)(\\d+))?","captures":{"1":{"name":"constant.numeric.integer.range-length.m3u"},"2":{"name":"punctuation.separator.range.m3u"},"3":{"name":"constant.numeric.integer.offset.m3u"}}}],"beginCaptures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.operator.field.byterange.m3u"},"3":{"patterns":[{"include":"etc#kolon"}]}}},{"name":"comment.line.number-sign.directive.${2:/downcase}.hls.m3u","begin":"\\G(#)(EXT-X(?:-[A-Z0-9]+)++)(?:(:)|(?=\\s*$))","end":"(?=\\s*$)","patterns":[{"include":"#unquoted"}],"beginCaptures":{"1":{"name":"punctuation.definition.comment.m3u"},"2":{"name":"keyword.operator.field.${2:/downcase}.m3u"},"3":{"patterns":[{"include":"etc#kolon"}]}}},{"name":"comment.line.number-sign.m3u","begin":"\\G#","end":"$","beginCaptures":{"0":{"name":"punctuation.definition.comment.m3u"}}}],"beginCaptures":{"1":{"name":"punctuation.whitespace.leading.m3u"}}},"hex":{"name":"constant.numeric.integer.int.hexadecimal.hex.m3u","match":"(?i)[-+]?0x[0-9A-F]+"},"main":{"patterns":[{"include":"#comment"},{"include":"#mediaSpec"}]},"mediaSpec":{"contentName":"meta.media-source.m3u","begin":"(?:\\A﻿?|^)(\\s+)?(?=[^\\s#])","end":"(?=\\s*$)","patterns":[{"include":"#url"},{"include":"#path"}],"beginCaptures":{"1":{"name":"punctuation.whitespace.leading.m3u"}}},"path":{"name":"constant.other.reference.link.underline.file.path.m3u","match":"[^\\s:][^\\r\\n]*(?=\\s*$)","captures":{"0":{"patterns":[{"include":"#urlEncoded"}]}}},"resolution":{"name":"meta.screen-resolution.m3u","match":"(?:^|\\G|(?\u003c=\\s))(\\d+)(x)(\\d+)(?=$|\\s)","captures":{"1":{"name":"constant.numeric.integer.width.m3u"},"2":{"name":"punctuation.separator.dimensions.m3u"},"3":{"name":"constant.numeric.integer.height.m3u"}}},"unquoted":{"patterns":[{"include":"#resolution"},{"include":"#hex"},{"include":"etc#boolish"},{"include":"etc#num"},{"include":"etc#bareword"}]},"url":{"name":"constant.other.reference.link.underline.${1:/downcase}.m3u","match":"(?xi)\\b\n((?=[A-Z])\\w+(?:[-+.]\\w+)*+) # URI scheme\n://                            # Separator\n[^#?\\s\"]*                     # Pathname\n(?:\\?[^\\s\"#]*)?              # Query variable(s)\n(?:\\#[^\\s\"]*)?               # Fragment identifier","captures":{"0":{"patterns":[{"include":"#urlEncoded"}]}}},"urlEncoded":{"name":"constant.character.escape.url-encoded.m3u","match":"(%)[0-9A-F]{2}","captures":{"1":{"name":"punctuation.definition.escape.m3u"}}}}}
