{"name":"Toit","scopeName":"source.toit","patterns":[{"include":"#comment"},{"include":"#import-section"},{"include":"#export-section"},{"include":"#class-section"},{"include":"#toplevel-section"}],"repository":{"character":{"patterns":[{"name":"constant.numeric.character.toit","match":"\\'[^'\\\\]'|'\\\\[0abfnrtv$\\\\\\\"'nr]'|'\\\\x[a-fA-F0-9]{2}'|'\\\\u[a-fA-F0-9]{4}'"},{"name":"invalid.illegal.character.toit","match":"\\'\\\\?..+\\'"}]},"class-section":{"name":"meta.class.toit","begin":"^(?:(abstract)[ ]+)?(class|interface|mixin|monitor)(?!-)\\b","end":"^(?=[^\\s/]|/[^/*])","patterns":[{"include":"#comment"},{"name":"meta.class.members","begin":"^(?=\\s\\s[^\\s])","end":"^(?=[^\\s/]|/[^/*])","patterns":[{"include":"#comment"},{"include":"#member-section"}]},{"name":"meta.class.signature","begin":"(\\b(?\u003c!-)[\\w-]+(?!-)\\b)","end":":","patterns":[{"include":"#comment"},{"name":"meta.extends.clause.toit","match":"\\b(?\u003c!-)(extends)\\s+([\\p{L}_][\\w-]*)(?!-)\\b","captures":{"1":{"name":"keyword.control.extends.toit"},"2":{"name":"entity.other.inherited-class"}}},{"name":"keyword.control.extends.toit","match":"\\b(?\u003c!-)extends(?!-)\\b"},{"name":"keyword.control.implements.toit","match":"\\b(?\u003c!-)implements(?!-)\\b"},{"name":"keyword.control.with.toit","match":"\\bwith\\b"},{"include":"#type-name"}],"beginCaptures":{"1":{"name":"storage.type.class.toit"}}}],"beginCaptures":{"1":{"name":"keyword.control.toit"},"2":{"name":"keyword.control.toit"}}},"comment":{"patterns":[{"include":"#multi-line-comment"},{"include":"#single-line-comment"}]},"constant":{"patterns":[{"name":"constant.language.toit","match":"\\b(?\u003c!-)(null|true|false)(?!-)\\b"},{"name":"constant.numeric.capitalized_user_constants.toit","match":"\\b(?\u003c!-)_*[A-Z](-?[A-Z0-9_])+(?!-)\\b"}]},"control":{"patterns":[{"name":"keyword.control.toit","match":"(:|\\?|;)"}]},"delimited":{"patterns":[{"name":"meta.delimited.parenthesis","begin":"(\\()","end":"(\\))","patterns":[{"include":"#expressions"}],"beginCaptures":{"1":{"name":"keyword.operator.toit"}},"endCaptures":{"1":{"name":"keyword.operator.toit"}}},{"name":"meta.delimited.brackets","begin":"(#?\\[)","end":"(\\])","patterns":[{"include":"#expressions"}],"beginCaptures":{"1":{"name":"keyword.operator.toit"}},"endCaptures":{"1":{"name":"keyword.operator.toit"}}},{"name":"meta.delimited.braces","begin":"(\\{)","end":"(\\})","patterns":[{"include":"#expressions"}],"beginCaptures":{"1":{"name":"keyword.operator.toit"}},"endCaptures":{"1":{"name":"keyword.operator.toit"}}}]},"empty-string":{"patterns":[{"name":"string.quoted.double.toit","match":"\"\"(?!\")"}]},"export-section":{"name":"meta.export.toit","begin":"^export(?!-)\\b","end":"^(?!\\s)","patterns":[{"include":"#comment"},{"name":"constant.language.import-export-all.export_all.toit","match":"\\*"}],"beginCaptures":{"0":{"name":"constant.language.import-export-all.export.toit"}}},"expressions":{"patterns":[{"include":"#variable-declaration"},{"include":"#named-arg"},{"include":"#delimited"},{"include":"#comment"},{"include":"#character"},{"include":"#number"},{"include":"#operator-assignment"},{"include":"#operator"},{"include":"#control"},{"include":"#keyword"},{"include":"#constant"},{"include":"#string"},{"include":"#primitive"},{"include":"#special-variable"},{"include":"#type-name"},{"include":"#variable"}]},"import-section":{"name":"meta.import.toit","begin":"^import(?!-)\\b","end":"^(?!\\s)","patterns":[{"include":"#comment"},{"name":"constant.language.import-export-all.show.toit","match":"\\b(?\u003c!-)show(?!-)\\b"},{"name":"constant.language.import-export-all.as.toit","match":"\\b(?\u003c!-)as(?!-)\\b"},{"name":"constant.language.import-export-all.import_all.toit","match":"\\*"}],"beginCaptures":{"0":{"name":"constant.language.import-export-all.import.toit"}}},"interpolated":{"name":"meta.string.interpolated.delimited.toit","patterns":[{"name":"variable.other.interpolated.delimited.color_hack.toit","begin":"(\\$\\()","end":"(\\))","patterns":[{"include":"#expressions"}],"beginCaptures":{"1":{"name":"keyword.control.string_interpolation.toit"}},"endCaptures":{"1":{"name":"keyword.control.string_interpolation.toit"}}},{"name":"variable.other.interpolated.color_hack.toit","match":"(\\$)([\\p{L}_][\\w-]*(?:\\.[\\p{L}_][\\w-]*|\\[([^]]*)\\])*)","captures":{"1":{"name":"keyword.control.string_interpolation.toit"},"2":{"name":"meta.interpolated.expression"},"3":{"name":"meta.interpolated.expression","patterns":[{"include":"#expressions"}]}}}]},"invalid_non_expression":{"patterns":[{"name":"invalid.illegal.non_expression.toit","match":"\\b(?\u003c!-)(assert|and|or|not|if|for|else|try|finally|call|while|break|continue|throw|static|abstract|return)(?!-)\\b"},{"name":"invalid.illegal.non_expression.toit","match":"\\b(?\u003c!-)(is|as)(?!-)\\b"},{"name":"invalid.illegal.non_expression.toit","match":"\\b(?\u003c!-)(super|this)(?!-)\\b"}]},"keyword":{"patterns":[{"name":"keyword.control.toit","match":"\\b(?\u003c!-)(assert|and|or|not|if|for|else|try|finally|call|while|break|continue|throw|static|abstract|return)(?!-)\\b"},{"name":"keyword.control.pseudo.toit","match":"\\b(?\u003c!-)unreachable(?!-)\\b"},{"name":"keyword.control.type_check.toit","match":"\\b(?\u003c!-)(is|as)(?!-)\\b"}]},"member-section":{"name":"meta.member.toit","patterns":[{"include":"#comment"},{"name":"keyword.control.toit","match":"\\b(?\u003c!-)(static|abstract|operator)(?!-)\\b"},{"name":"meta.member.signature","begin":"(?\u003c!-)\\b(constructor)(?!-)\\b(\\.[\\p{L}_][\\w-]*)?|([\\p{L}_][\\w-]*[=]?|==|\u003c\u003c|\u003e\u003e\u003e|\u003e\u003e|\u003c=|\u003e=|\u003c|\u003e|\\+|-|\\*|/|%|\\^|\u0026|\\||\\[\\]\\=|\\[\\]|\\[\\.\\.\\])","end":"(?=\\:(?![\\p{L}_])|^\\s{0,4}(?:[^\\s/]|/[^/*]))","patterns":[{"include":"#signature-part2"}],"beginCaptures":{"1":{"name":"keyword.control.toit"},"2":{"name":"storage.type.function"},"3":{"name":"storage.type.function"}}},{"include":"#type-annotation"},{"name":"meta.member.body","begin":"(:=|::=)|(:)|^\\s{4}(?=[^\\s/])","end":"(?=^\\s{0,2}([^\\s/]|/[^/*]))","patterns":[{"include":"#expressions"}],"beginCaptures":{"1":{"name":"keyword.control.toit"}}}]},"multi-line-comment":{"patterns":[{"name":"comment.block.toit","begin":"\\s*(/\\*)(?!\\*)","end":"(\\*/)","patterns":[{"include":"#multi-line-comment"}],"beginCaptures":{"0":{"name":"punctuation.definition.comment.toit"}},"endCaptures":{"0":{"name":"punctuation.definition.comment.toit"}}},{"name":"comment.block.toit","match":"\\s*(/\\*\\*/)","captures":{"0":{"name":"punctuation.definition.comment.toit"}}},{"name":"comment.block.documentation.toit","begin":"\\s*(/\\*\\*)(?!/)","end":"(\\*/)","patterns":[{"include":"#multi-line-comment"}],"beginCaptures":{"0":{"name":"punctuation.definition.comment.toit"}},"endCaptures":{"0":{"name":"punctuation.definition.comment.toit"}}}]},"multi-line-string":{"name":"string.quoted.double.toit","begin":"\"\"\"","end":"\"\"\"(?!\")|\"\"\"\"\"","patterns":[{"name":"constant.character.escape.toit","match":"\\\\."},{"include":"#interpolated"}]},"named-arg":{"patterns":[{"name":"variable.language.special.named.toit","match":"--no-[\\p{L}_][\\w-]*"},{"name":"variable.language.special.named.toit","match":"--[\\p{L}_][\\w-]*"}]},"number":{"name":"constant.numeric.toit","patterns":[{"include":"#number-double"},{"include":"#number-decimal"}]},"number-decimal":{"patterns":[{"name":"constant.numeric.dec.toit","match":"(?\u003c!\\w)-?([0-9](_(?=[0-9]))?)+(?!-)\\b"},{"name":"constant.numeric.dec.hex.toit","match":"(?\u003c!\\w)-?0[xX]([0-9a-fA-F](_(?=[0-9a-fA-F]))?)+(?!-)\\b"},{"name":"constant.numeric.dec.bin.toit","match":"(?\u003c!\\w)-?0[bB]([01](_(?=[01]))?)+(?!-)\\b"}]},"number-double":{"patterns":[{"name":"constant.numeric.float.toit","match":"(?\u003c!\\w)-?([0-9](_(?=[0-9]))?)+[eE][+-]?([0-9](_(?=[0-9]))?)+"},{"name":"constant.numeric.float.toit","match":"(?\u003c!\\w)-?([0-9](_(?=[0-9]))?)+\\.([0-9](_(?=[0-9]))?)+([eE][+-]?([0-9](_(?=[0-9]))?)+)?"},{"name":"constant.numeric.float.toit","match":"(?\u003c!\\w)-?\\.([0-9](_(?=[0-9]))?)+([eE][+-]?([0-9](_(?=[0-9]))?)+)?"},{"name":"constant.numeric.float.hex.toit","match":"(?\u003c!\\w)-?0[xX]([0-9a-fA-F](_(?=[0-9a-fA-F]))?)+[pP][+-]?([0-9](_(?=[0-9]))?)+"},{"name":"constant.numeric.float.hex.toit","match":"(?\u003c!\\w)-?0[xX]([0-9a-fA-F](_(?=[0-9a-fA-F]))?)+\\.([0-9a-fA-F](_(?=[0-9a-fA-F]))?)+[pP][+-]?([0-9](_(?=[0-9]))?)+"},{"name":"constant.numeric.float.hex.toit","match":"(?\u003c!\\w)-?0[xX]\\.([0-9a-fA-F](_(?=[0-9a-fA-F]))?)+[pP][+-]?([0-9](_(?=[0-9]))?)+"}]},"operator":{"patterns":[{"name":"keyword.control.toit","match":"(!=|==|\u003e=|\u003c=|\u003c|\u003e|\\*|\\+|-|%|//|/|\u003c\u003c|\u003e\u003e\u003e|\u003e\u003e|\u0026|\\||\\^|~|[.][.])"}]},"operator-assignment":{"patterns":[{"name":"keyword.control.toit","match":"(=|\u003c\u003c=|\u003e\u003e\u003e=|\u003e\u003e=|//=|\\+=|-=|/=|\\*=|%=|~=|\\^=|\u0026=)"}]},"primitive":{"patterns":[{"name":"support.function.builtin.toit","match":"\\#primitive(?!-)\\b"}]},"signature-part2":{"name":"meta.member.signature.part2.toit","patterns":[{"include":"#type-annotation"},{"include":"#comment"},{"name":"meta.parameter.setting.toit","match":"(--)?(this)?\\.([\\p{L}_][\\w-]*)","captures":{"1":{"name":"variable.parameter.named.setting.toit"},"2":{"patterns":[{"include":"#special-variable"}]},"3":{"name":"variable.parameter.named.setting.toit","patterns":[{"include":"#invalid_non_expression"}]}}},{"name":"variable.parameter.toit","match":"(--)?(:)?([\\p{L}_][\\w-]*)","captures":{"2":{"name":"keyword.control.block_marker.toit"},"3":{"patterns":[{"include":"#invalid_non_expression"}]}}},{"name":"meta.parameter.default_value.toit","begin":"(=)\\s*","end":"^|\\s|:","patterns":[{"include":"#comment"},{"include":"#character"},{"include":"#number"},{"include":"#constant"},{"include":"#string"},{"include":"#type-name"},{"include":"#delimited"},{"include":"#keyword"}],"beginCaptures":{"1":{"name":"keyword.control.toit"}}}]},"single-line-comment":{"patterns":[{"contentName":"comment.line.double-slash.toit","begin":"\\s*(//)","end":"(?=^)","beginCaptures":{"1":{"name":"comment.line.double-slash.toit"}}}]},"single-line-string":{"name":"string.quoted.double.toit","begin":"\"(?!\")","end":"\"","patterns":[{"name":"constant.character.escape.toit","match":"\\\\."},{"include":"#interpolated"}]},"special-variable":{"patterns":[{"name":"variable.language.special.toit","match":"\\b(?\u003c!-)(this|it|super)(?!-)\\b"}]},"string":{"patterns":[{"include":"#empty-string"},{"include":"#single-line-string"},{"include":"#multi-line-string"}]},"toplevel-section":{"name":"meta.toplevel.toit","patterns":[{"include":"#comment"},{"include":"#type-annotation"},{"name":"meta.toplevel.signature","begin":"([\\p{L}_][\\w-]*[=]?)","end":"(?=\\:(?![\\p{L}_])|^\\s{0,2}(?:[^\\s/]|/[^/*]))","patterns":[{"include":"#signature-part2"}],"beginCaptures":{"1":{"name":"storage.type.function"}}},{"name":"meta.toplevel.body","begin":"(:=|::=)|(:)|^\\s{2}(?=[^\\s/])","end":"(?=^([^\\s/]|/[^/*]))","patterns":[{"include":"#expressions"}],"beginCaptures":{"1":{"name":"keyword.control.toit"}}}]},"type-annotation":{"patterns":[{"name":"entity.name.type.annotation.toit","begin":"(/|-\u003e) *(?=[\\p{L}_])","end":"(?=[^\\w\\-.?])","beginCaptures":{"1":{"name":"keyword.control.return_type.toit"}}}]},"type-name":{"patterns":[{"name":"entity.name.type.toit","match":"\\b(?\u003c!-)_?[A-Z][A-Z_-]*[a-z][\\w-]*(?\u003c!-)\\b[?]?"},{"name":"entity.name.type.toit","match":"\\b(?\u003c!-)_?[A-Z][0-9]*_?(?\u003c!-)\\b[?]?"},{"name":"entity.name.type.shorts.toit","match":"\\b(?\u003c!-)(int|bool|float|string)(?\u003c!-)\\b[?]?"},{"name":"entity.name.type.any_none.toit","match":"\\b(?\u003c!-)(any|none)(?\u003c!-)\\b"}]},"variable":{"patterns":[{"name":"entity.name.function.call.toit","match":"\\b(?\u003c!-)[\\p{L}_][\\w-]*(?\u003c!-)\\b"}]},"variable-declaration":{"patterns":[{"name":"meta.variable.toit","match":"([\\p{L}_][\\w-]*)\\s*(\\:=|\\:\\:=)","captures":{"1":{"name":"variable.other.toit"},"2":{"name":"keyword.control.toit"}}},{"name":"meta.variable.toit","match":"([\\p{L}_][\\w-]*)\\s*(\\/)\\s*([_\\w.]+[?]?)\\s*(\\:=|\\:\\:=)","captures":{"1":{"name":"variable.other.toit"},"2":{"name":"keyword.control.toit"},"3":{"name":"meta.variable.type.toit","patterns":[{"include":"#type-name"}]},"4":{"name":"keyword.control.toit"}}}]}}}
