{"name":"FIRRTL","scopeName":"source.firrtl","patterns":[{"include":"#version"},{"include":"#circuit"},{"include":"#declaration"},{"include":"#statement"},{"include":"#comment"},{"include":"#file_info"}],"repository":{"circuit":{"match":"^(circuit)\\s+(\\w+)\\s*:","captures":{"1":{"name":"storage.type.class.firrtl"},"2":{"name":"entity.name.type.firrtl"}}},"comment":{"name":"comment.line.character.firrtl","match":";.*$"},"declaration":{"patterns":[{"include":"#module"},{"include":"#extmodule"},{"include":"#layer"},{"include":"#type_decl"},{"include":"#port"},{"include":"#wire_or_register"},{"include":"#node"},{"include":"#instance"},{"include":"#memory"}]},"expression":{"patterns":[{"include":"#expression_literal"},{"include":"#expression_primop"},{"include":"#expression_primop_deprecated"},{"include":"#property_literal"},{"include":"#format_string"}]},"expression_literal":{"match":"(([US]Int|Analog)(\u003c(\\d+)\u003e)?\\(.+\\))","captures":{"1":{"name":"constant.numeric.firrtl"}}},"expression_primop":{"begin":"(add|sub|mul|div|rem|lt|leq|gt|geq|eq|neq|pad|asAsyncReset|asUInt|asSInt|asClock|shl|shr|dshl|dshr|cvt|neg|not|and|or|xor|andr|orr|xorr|cat|bits|head|tail|mux|probe|rwprobe|read)\\(","end":"\\)","patterns":[{"include":"#expression"}],"beginCaptures":{"1":{"name":"keyword.operator.firrtl"}}},"expression_primop_deprecated":{"begin":"(asFixedPoint|bpshl|bpshr|bpset|validif)\\(","end":"\\)","patterns":[{"include":"#expression"}],"beginCaptures":{"1":{"name":"invalid.deprecated.firrtl"}}},"extmodule":{"match":"(extmodule)\\s+(\\w+)\\s*:","captures":{"1":{"name":"storage.modifier.firrtl"},"2":{"name":"storage.type.class.firrtl"},"3":{"name":"entity.name.type.firrtl"}}},"file_info":{"name":"comment.line.character.firrtl","match":"(@\\[.*\\])"},"format_string":{"name":"string.quoted.double.firrtl","begin":"\"","end":"\"","patterns":[{"name":"variable.other.firrtl","match":"%[bdx%]"},{"name":"variable.other.firrtl","match":"\\\\[nt\\\\\"']"}]},"instance":{"name":"keyword.other.firrtl","match":"inst\\s+(\\w+)\\s+of\\s+","captures":{"1":{"name":"entity.name.type.firrtl"}}},"layer":{"match":"(layer)\\s+(\\w+)\\s*,?\\s*(\\w*)","captures":{"1":{"name":"storage.type.class.firrtl"},"2":{"name":"entity.name.type.firrtl"},"3":{"name":"storage.modifier.firrtl"}}},"memory":{"match":"(mem)\\s+(\\w+)","captures":{"1":{"name":"storage.type.class.firrtl"},"2":{"name":"entity.name.type.firrtl"}}},"module":{"match":"^\\s*(public\\s+)?(module)\\s+(\\w+)\\s*:","captures":{"1":{"name":"storage.modifier.firrtl"},"2":{"name":"storage.type.class.firrtl"},"3":{"name":"entity.name.type.firrtl"}}},"node":{"match":"(node)\\s+(\\w+)\\s*","captures":{"1":{"name":"storage.type.firrtl"},"2":{"name":"entity.name.type.firrtl"}}},"port":{"begin":"(input|output)\\s+(\\w+)\\s*:","end":"$","patterns":[{"include":"#type"},{"include":"#comment"},{"include":"#file_info"}],"beginCaptures":{"1":{"name":"storage.type.port.firrtl"},"2":{"name":"entity.name.type.firrtl"}}},"property_literal":{"name":"constant.numeric.firrtl","match":"Integer\\((\\d+)\\)"},"statement":{"patterns":[{"include":"#statement_generic"},{"include":"#statement_memory_config"},{"include":"#statement_extmodule_config"}]},"statement_extmodule_config":{"patterns":[{"match":"(parameter)\\s+(\\w+)","captures":{"1":{"name":"keyword.other.firrtl"}}}]},"statement_generic":{"begin":"(connect|invalidate|attach\\(|propassign|skip|when|else(\\s+when)?|stop|printf|assert|assume|cover|layerblock|define|force(_initial)?|release(_initial)?)","end":"$","patterns":[{"include":"#expression"},{"include":"#comment"},{"include":"#file_info"}],"beginCaptures":{"1":{"name":"keyword.other.firrtl"}}},"statement_memory_config":{"patterns":[{"begin":"(data-type)\\s*=\u003e","end":"$","patterns":[{"include":"#type"}],"beginCaptures":{"1":{"name":"keyword.other.firrtl"}}},{"match":"(depth|reader|writer|read-latency|write-latency)\\s*=\u003e\\s*\\w+","captures":{"1":{"name":"keyword.other.firrtl"}}},{"match":"(read-under-write)\\s*=\u003e\\s*(old|new|undefined)","captures":{"1":{"name":"keyword.other.firrtl"},"2":{"name":"keyword.other.firrtl"}}}]},"type":{"patterns":[{"include":"#type_ground_nowidth"},{"include":"#type_ground_width"},{"include":"#type_bundle"},{"include":"#type_probe"},{"include":"#type_enum"},{"include":"#type_property"}]},"type_bundle":{"name":"meta.type.bundle.firrtl","begin":"(const\\s+)?{","end":"}","patterns":[{"include":"#type_bundle_field"},{"include":"#type"}],"captures":{"1":{"name":"storage.modifier.firrtl"}}},"type_bundle_field":{"match":"(flip\\s+)?(\\w+)\\s*:","captures":{"1":{"name":"storage.modifier.firrtl"},"2":{"name":"entity.name.type.firrtl"}}},"type_decl":{"begin":"(type)\\s+(\\w+)\\s*=","end":"$","patterns":[{"include":"#type"},{"include":"#comment"}],"beginCaptures":{"1":{"name":"storage.type.port.firrtl"},"2":{"name":"entity.name.type.firrtl"}}},"type_enum":{"begin":"({\\|)","end":"(\\|})","patterns":[{"include":"#type"}],"captures":{"1":{"name":"storage.type.firrtl"}}},"type_ground_nowidth":{"name":"storage.type.firrtl","match":"(const\\s+)?(Clock|Reset|AsyncReset)","captures":{"1":{"name":"storage.modifier.firrtl"}}},"type_ground_width":{"name":"storage.type.firrtl","match":"(const\\s+)?([US]Int|Analog)(\u003c(\\d+)\u003e)?","captures":{"1":{"name":"storage.modifier.firrtl"},"4":{"name":"constant.numeric.firrtl"}}},"type_probe":{"begin":"((RW)?Probe\u003c)","end":"(\u003e)","patterns":[{"include":"#type"}],"captures":{"1":{"name":"storage.type.firrtl"}}},"type_property":{"name":"storage.type.firrtl","match":"Integer"},"version":{"name":"comment.line.character.firrtl","match":"^FIRRTL version \\d+\\.\\d+\\.\\d+$"},"wire_or_register":{"begin":"(wire|reg|regreset)\\s+(\\w+)\\s*:","end":"$","patterns":[{"include":"#type"},{"include":"#comment"},{"include":"#file_info"}],"beginCaptures":{"1":{"name":"storage.type.firrtl"},"2":{"name":"entity.name.type.firrtl"}}}}}
