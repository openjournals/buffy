{"scopeName":"source.mermaid.sequence-diagram","patterns":[{"include":"#main"}],"repository":{"activation":{"name":"keyword.operator.${1:/downcase}.mermaid","match":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))((?:de)?activate)(?=$|\\s|;)"},"actor":{"name":"meta.definition.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))(actor|participant)(?=$|\\s|;)[ \\t]*","end":"(?!\\G)|(?=\\s*(?:$|;))","patterns":[{"include":"#name"}],"beginCaptures":{"1":{"name":"storage.modifier.${1:/downcase}.mermaid"}}},"alt":{"name":"meta.alternation.block.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(alt)(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(end)(?=$|\\s|;)","patterns":[{"name":"meta.branch.if.mermaid","begin":"\\G","end":"(?i)(?=(?:^|(?\u003c=\\s|;|%%))\\s*(?:end|else)(?:$|\\s|;))","patterns":[{"include":"#alt-innards"}]},{"name":"meta.branch.else.mermaid","begin":"(?i)(?:^|(?\u003c=\\s|;|%%))\\s*(else)(?=$|\\s|;)","end":"(?i)(?=(?:^|(?\u003c=\\s|;|%%))\\s*end(?:$|\\s|;))","patterns":[{"include":"#alt-innards"}],"beginCaptures":{"1":{"name":"keyword.control.flow.alternation.else.mermaid"}}}],"beginCaptures":{"1":{"name":"keyword.control.flow.alternation.begin.mermaid"}},"endCaptures":{"1":{"name":"keyword.control.flow.alternation.end.mermaid"}}},"alt-innards":{"patterns":[{"contentName":"string.unquoted.condition-text.mermaid","begin":"\\G[ \\t]*(?=\\S)","end":"(?=\\s*(?:$|;))","patterns":[{"include":"#string-innards"}]},{"include":"#main"}]},"autonumber":{"name":"keyword.operator.autonumber.mermaid","match":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))autonumber(?=$|\\s|;)"},"break":{"name":"meta.break.block.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))break(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))end(?=$|\\s|;)","patterns":[{"contentName":"string.unquoted.break-text.mermaid","begin":"\\G[ \\t]*(?=\\S)","end":"(?=\\s*(?:$|;))","patterns":[{"include":"#string-innards"}]},{"include":"#main"}],"beginCaptures":{"0":{"name":"keyword.control.flow.break.begin.mermaid"}},"endCaptures":{"0":{"name":"keyword.control.flow.break.end.mermaid"}}},"critical":{"name":"meta.requirements.block.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(critical)(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(end)(?=$|\\s|;)","patterns":[{"name":"meta.branch.required.first.mermaid","begin":"\\G","end":"(?i)(?=(?:^|(?\u003c=\\s|;|%%))\\s*(?:option|end)(?:$|\\s|;))","patterns":[{"include":"#alt-innards"}]},{"name":"meta.branch.required.rest.mermaid","begin":"(?i)(?:^|(?\u003c=\\s|;|%%))\\s*(option)(?=$|\\s|;)","end":"(?i)(?=(?:^|(?\u003c=\\s|;|%%))\\s*(?:option|end)(?:$|\\s|;))","patterns":[{"include":"#alt-innards"}],"beginCaptures":{"1":{"name":"keyword.control.flow.option.mermaid"}}}],"beginCaptures":{"1":{"name":"keyword.control.flow.requirements.begin.mermaid"}},"endCaptures":{"1":{"name":"keyword.control.flow.requirements.end.mermaid"}}},"loop":{"name":"meta.loop.block.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))loop(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))end(?=$|\\s|;)","patterns":[{"contentName":"string.unquoted.loop-text.mermaid","begin":"\\G[ \\t]*(?=\\S)","end":"(?=\\s*(?:$|;))","patterns":[{"include":"#string-innards"}]},{"include":"#main"}],"beginCaptures":{"0":{"name":"keyword.control.loop.begin.mermaid"}},"endCaptures":{"0":{"name":"keyword.control.loop.end.mermaid"}}},"main":{"patterns":[{"include":"source.mermaid#a11y"},{"include":"source.mermaid#terminator"},{"include":"source.mermaid#directive"},{"include":"source.mermaid#comment"},{"include":"#message"},{"include":"#autonumber"},{"include":"#activation"},{"include":"#actor"},{"include":"#note"},{"include":"#loop"},{"include":"#alt"},{"include":"#opt"},{"include":"#par"},{"include":"#critical"},{"include":"#break"},{"include":"#rect"},{"include":"#menu"},{"include":"#name"},{"include":"#signal"}]},"menu":{"patterns":[{"include":"#menu-single"},{"include":"#menu-json"}]},"menu-json":{"name":"meta.menu.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))links(?=$|\\s|;)","end":"(?=\\s*(?:$|;))","patterns":[{"name":"meta.lhs.mermaid","begin":"\\G","end":"(?!\\G)","patterns":[{"include":"#name"}],"applyEndPatternLast":true},{"begin":":[ \\t]*","end":"(?!\\G)","patterns":[{"include":"source.json"}],"beginCaptures":{"0":{"name":"keyword.operator.assignment.mermaid"},"1":{"name":"punctuation.separator.menu.key-value.mermaid"}},"applyEndPatternLast":true}],"beginCaptures":{"0":{"name":"storage.type.menu.mermaid"}}},"menu-single":{"name":"meta.menu-link.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))link(?=$|\\s|;)","end":"(?=\\s*(?:$|;))","patterns":[{"name":"meta.lhs.mermaid","begin":"\\G","end":"(?!\\G)","patterns":[{"include":"#name"}],"applyEndPatternLast":true},{"name":"meta.rhs.mermaid","begin":":","end":"(?!\\G)","patterns":[{"name":"meta.link-text.mermaid","match":"\\G\\s*([^;@]*)\\s*((@))","captures":{"1":{"name":"string.unquoted.link-text.mermaid","patterns":[{"include":"#string-innards"}]},"2":{"name":"keyword.operator.assignment.mermaid"},"3":{"name":"punctuation.separator.link-spec.mermaid"}}},{"name":"meta.link-target.mermaid","contentName":"constant.other.reference.link.mermaid","begin":"(?:(?\u003c=@)|(?\u003c=:)\\G)[ \\t]*(?![^;]*@)","end":"(?=\\s*(?:$|;))","patterns":[{"include":"#string-innards"}]}],"beginCaptures":{"0":{"name":"keyword.operator.assignment.mermaid"},"1":{"name":"punctuation.separator.link.key-value.mermaid"}},"applyEndPatternLast":true}],"beginCaptures":{"0":{"name":"storage.type.menu-link.mermaid"}}},"message":{"name":"meta.message.mermaid","contentName":"string.unquoted.message-text.mermaid","begin":"((:))[ \\t]*","end":"(?=[ \\t]*(?:$|;))","patterns":[{"include":"#string-innards"}],"beginCaptures":{"1":{"name":"keyword.operator.assignment.mermaid"},"2":{"name":"punctuation.separator.message.key-value.mermaid"}}},"name":{"name":"meta.name.mermaid","match":"(?ix)\n(\n\t(?=\\S)\n\t(?:[^-+\u003e:,;\\s]+|\\s+(?!as(?:$|\\s)))++\n\t(?:\n\t\t(?!--?[x\\x29])\n\t\t(?:-*[^-+\u003e:,;\\s]+|\\s+(?!as(?:$|\\s)))\n\t)*?\n)\n(?:\\s+(as)(?=$|\\s|;))?","captures":{"1":{"name":"entity.name.tag.actor.mermaid"},"2":{"name":"keyword.operator.alias.mermaid"}}},"note":{"name":"meta.note.mermaid","begin":"(?i)note\\s+(?:(?:left|right)\\s+of|over)(?=$|\\s)[ \\t]*","end":"(?!\\G)|(?=\\s*(?:$|;))","patterns":[{"include":"#name"},{"include":"source.mermaid#comma"}],"beginCaptures":{"0":{"name":"storage.type.note.mermaid"}},"applyEndPatternLast":true},"opt":{"name":"meta.option.block.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(opt)(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(end)(?=$|\\s|;)","patterns":[{"include":"#alt-innards"}],"beginCaptures":{"1":{"name":"keyword.control.flow.option.begin.mermaid"}},"endCaptures":{"1":{"name":"keyword.control.flow.option.end.mermaid"}}},"par":{"name":"meta.parallel.block.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(par)(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(end)(?=$|\\s|;)","patterns":[{"name":"meta.branch.parallel.first.mermaid","begin":"\\G","end":"(?i)(?=(?:^|(?\u003c=\\s|;|%%))\\s*(?:and|end)(?:$|\\s|;))","patterns":[{"include":"#alt-innards"}]},{"name":"meta.branch.parallel.rest.mermaid","begin":"(?i)(?:^|(?\u003c=\\s|;|%%))\\s*(and)(?=$|\\s|;)","end":"(?i)(?=(?:^|(?\u003c=\\s|;|%%))\\s*(?:and|end)(?:$|\\s|;))","patterns":[{"include":"#alt-innards"}],"beginCaptures":{"1":{"name":"keyword.control.flow.parallel.continue.mermaid"}}}],"beginCaptures":{"1":{"name":"keyword.control.flow.parallel.begin.mermaid"}},"endCaptures":{"1":{"name":"keyword.control.flow.parallel.end.mermaid"}}},"rect":{"name":"meta.rectangle.mermaid","begin":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(rect)(?=$|\\s|;)","end":"(?i)(?:\\G|^|(?\u003c=\\s|;|%%))\\s*(end)(?=$|\\s|;)","patterns":[{"name":"meta.function.background-colour.${1:/downcase}.mermaid","begin":"(?i)\\G\\s*(rgba?)(\\()","end":"\\)","patterns":[{"name":"constant.numeric.colour-component.mermaid","match":"[-+]?\\d+(?:\\.\\d+)?"},{"include":"source.mermaid#comma"}],"beginCaptures":{"1":{"name":"support.function.colour.mermaid"},"2":{"name":"punctuation.definition.arguments.begin.mermaid"}},"endCaptures":{"0":{"name":"punctuation.definition.arguments.end.mermaid"}}},{"include":"#main"}],"beginCaptures":{"0":{"name":"keyword.control.rectangle.begin.mermaid"}},"endCaptures":{"0":{"name":"keyword.control.rectangle.end.mermaid"}}},"signal":{"name":"meta.signal.mermaid","match":"(--?(?:\u003e\u003e?|x|\\)))(?:[ \\t]*(?:(-)|(\\+)))?","captures":{"1":{"name":"keyword.operator.link.mermaid"},"2":{"name":"keyword.operator.deactivate.mermaid"},"3":{"name":"keyword.operator.activate.mermaid"}}},"string-innards":{"patterns":[{"include":"source.mermaid#entity"}]}}}
